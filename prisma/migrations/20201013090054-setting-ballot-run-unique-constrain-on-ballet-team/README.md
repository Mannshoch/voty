# Migration `20201013090054-setting-ballot-run-unique-constrain-on-ballet-team`

This migration has been generated by Stefan N at 10/13/2020, 11:00:54 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX "ballot_runs.ballot_id_team_id_unique" ON "public"."ballot_runs"("ballot_id", "team_id")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201012161114-changed-ballot-run-to-ballot-runs-on-relations..20201013090054-setting-ballot-run-unique-constrain-on-ballet-team
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -175,8 +175,9 @@
   ballotId String @map(name: "ballot_id")
   team     Team   @relation(fields: [teamId], references: [id])
   teamId   String @map(name: "team_id")
+  @@unique([ballotId, teamId])
   @@map(name: "ballot_runs")
 }
 model Option {
```


