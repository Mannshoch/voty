# Migration `20200823161832-add-password--salt-and-gender`

This migration has been generated by Stefan N at 8/23/2020, 6:18:32 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Gender" AS ENUM ('UNKOWN', 'MALE', 'FEMALE', 'OTHER');

ALTER TABLE "public"."users" ADD COLUMN "lastname" text   ,
ADD COLUMN "password" text   ,
ADD COLUMN "salt" text   ,
ADD COLUMN "gender" "Gender" NOT NULL DEFAULT E'UNKOWN';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200823081745-added-roles--schools--teams-and-relations..20200823161832-add-password--salt-and-gender
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -44,19 +44,32 @@
   TEACHER
   ADMIN
 }
+enum Gender {
+  UNKOWN
+  MALE
+  FEMALE
+  OTHER
+}
+
 model User {
   id            Int       @default(autoincrement()) @id
   name          String?
   email         String?   @unique
   emailVerified DateTime? @map(name: "email_verified")
+  lastname      String?
   image         String?
-  role          Role      @default(STUDENT)
-  school        School?   @relation(name: "SchoolUser", fields: [schoolId], references: [id])
-  team          Team?     @relation(name: "TeamMembers", fields: [teamId], references: [id])
-  teaches       Team[]    @relation("TeamTeacher")
+  password String?
+  salt     String?
+  gender   Gender  @default(UNKOWN)
+
+  role    Role    @default(STUDENT)
+  school  School? @relation(name: "SchoolUser", fields: [schoolId], references: [id])
+  team    Team?   @relation(name: "TeamMembers", fields: [teamId], references: [id])
+  teaches Team[]  @relation("TeamTeacher")
+
   schoolId  Int?
   teamId    Int?
   createdAt DateTime @default(now()) @map(name: "created_at")
   updatedAt DateTime @default(now()) @map(name: "updated_at")
```


